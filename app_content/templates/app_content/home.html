{% load i18n %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <meta charset="UTF-8">
    <title>{% trans "–ì–ª–∞–≤–Ω–∞—è" %}</title>
</head>
<body>

    <!-- üîÑ –Ø–∑—ã–∫–æ–≤–æ–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å -->
    <form action="{% url 'set_language' %}" method="post">
        {% csrf_token %}
        {% get_current_language as LANGUAGE_CODE %}
        {% get_available_languages as LANGUAGES %}
        <select name="language">
            {% for lang_code, lang_name in LANGUAGES %}
            <option value="{{ lang_code }}"{% if lang_code == LANGUAGE_CODE %} selected{% endif %}>{{ lang_name }}</option>
            {% endfor %}
        </select>
        <button type="submit">{% trans "–í—ã–±—Ä–∞—Ç—å —è–∑—ã–∫" %}</button>
    </form>

    <hr>

    <!-- üü© –°–ª–∞–π–¥–µ—Ä/–ë–∞–Ω–Ω–µ—Ä -->
    {% if featured_articles %}
    <section>
        <h2>{% trans "–ò–∑–±—Ä–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏" %}</h2>
        <ul>
            {% for article in featured_articles %}
            <li>
                {% if article.cover_image %}
                <img src="{{ article.cover_image.url }}" alt="{{ article.title }}" width="200">
                {% endif %}
                <a href="{% url 'article_detail' slug=article.slug %}">{{ article.title }}</a>
            </li>
            {% endfor %}
        </ul>
    </section>
    {% endif %}

    <hr>

    <!-- üìÑ –í—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–µ–≥ -->
    {% if current_tag %}
    <p><b>{% trans "–í—ã–±—Ä–∞–Ω —Ç–µ–≥" %}:</b> {{ current_tag.name }}</p>
    {% endif %}

    <!-- üì∞ –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ -->
    <section>
        <h2>{% trans "–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏" %}</h2>
        <ul>
            {% for article in recent_articles %}
            <li>
                {% if article.cover_image %}
                <img src="{{ article.cover_image.url }}" alt="{{ article.title }}" width="150">
                {% endif %}
                <a href="{% url 'article_detail' slug=article.slug %}">{{ article.title }}</a><br>
                <small>{% trans "–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ" %}: {{ article.published_at|default:article.created_at }} ‚Äî {{ article.author }}</small>
                <div>
                    {% for tag in article.tags.all %}
                        <small>#{{ tag.name }}</small>{% if not forloop.last %}, {% endif %}
                    {% endfor %}
                </div>
                <p>{{ article.short_description }}</p>
            </li>
            {% empty %}
            <li>{% trans "–ù–µ—Ç —Å—Ç–∞—Ç–µ–π" %}</li>
            {% endfor %}
        </ul>
    </section>

    <!-- üìÜ –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
    <div>
        {% if recent_articles.has_previous %}
        <a href="?page={{ recent_articles.previous_page_number }}">{% trans "–ù–∞–∑–∞–¥" %}</a>
        {% endif %}

        <span>{% trans "–°—Ç—Ä–∞–Ω–∏—Ü–∞" %} {{ recent_articles.number }} {% trans "–∏–∑" %} {{ recent_articles.paginator.num_pages }}</span>

        {% if recent_articles.has_next %}
        <a href="?page={{ recent_articles.next_page_number }}">{% trans "–í–ø–µ—Ä–µ–¥" %}</a>
        {% endif %}
    </div>

    <hr>

    <!-- üì∞ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ (–æ—Ç–¥–µ–ª—å–Ω–æ) -->
    <section>
        <h2>{% trans "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏" %}</h2>
        <ul>
            {% for article in latest_articles %}
            <li>
                <a href="{% url 'article_detail' slug=article.slug %}">{{ article.title }}</a>
            </li>
            {% endfor %}
        </ul>
    </section>

    <hr>

    <!-- üë• –ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞—Ç—å—è –∫–∞–∂–¥–æ–≥–æ –∞–≤—Ç–æ—Ä–∞ -->
    <section>
        <h2>{% trans "–ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞—Ç—å—è –∞–≤—Ç–æ—Ä–æ–≤" %}</h2>
        <ul>
            {% for article in last_by_authors %}
            <li>
                <a href="{% url 'article_detail' slug=article.slug %}">
                    {{ article.title }} ‚Äî {{ article.author }}
                </a>
            </li>
            {% endfor %}
        </ul>
    </section>

    <hr>

    <!-- üìÇ –†—É–±—Ä–∏–∫–∏ -->
    <section>
        <h2>{% trans "–†—É–±—Ä–∏–∫–∏" %}</h2>
        <ul>
            {% for category in categories %}
            <li>
                <a href="{% url 'articles_by_category' slug=category.slug %}">
                    {{ category.name }}
                </a>
            </li>
            {% empty %}
            <li>{% trans "–ù–µ—Ç —Ä—É–±—Ä–∏–∫" %}</li>
            {% endfor %}
        </ul>
    </section>

    <hr>

    <!-- üîñ –¢–µ–≥–∏ -->
    <section>
        <h2>{% trans "–¢–µ–≥–∏" %}</h2>
        <ul>
            {% for tag in tags %}
            <li>
                <a href="{% url 'articles_by_tag' slug=tag.slug %}">
                    #{{ tag.name }}
                </a>
            </li>
            {% empty %}
            <li>{% trans "–ù–µ—Ç —Ç–µ–≥–æ–≤" %}</li>
            {% endfor %}
        </ul>
    </section>

    <hr>

    <!-- üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
    <footer>
        <div>
            <h4>{% trans "–ö–æ–Ω—Ç–∞–∫—Ç—ã" %}</h4>
            <p>–¢–µ–ª–µ—Ñ–æ–Ω: +7 (XXX) XXX-XX-XX</p>
            <p>Email: example@example.com</p>
        </div>
        <div>
            <h4>{% trans "–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏" %}</h4>
            <p><a href="#">Instagram</a> | <a href="#">Telegram</a> | <a href="#">VK</a></p>
        </div>
    </footer>

</body>
</html>

{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "–ì–ª–∞–≤–Ω–∞—è" %}{% endblock %}

{% block content %}
<h2>{% trans "–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏" %}</h2>
<ul>
    {% for article in recent_articles %}
    <li>
        {% if article.cover_image %}
        <img src="{{ article.cover_image.url }}" width="150">
        {% endif %}
        <a href="{% url 'article_detail' slug=article.slug %}">{{ article.title }}</a><br>
        <small>{{ article.published_at|default:article.created_at }} ‚Äî {{ article.author }}</small>
        <div>
            {% for tag in article.tags.all %}
                <small>#{{ tag.name }}</small>{% if not forloop.last %}, {% endif %}
            {% endfor %}
        </div>
        <p>{{ article.short_description }}</p>
    </li>
    {% empty %}
    <li>{% trans "–ù–µ—Ç —Å—Ç–∞—Ç–µ–π" %}</li>
    {% endfor %}
</ul>

<!-- üìÜ –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
<div>
    {% if recent_articles.has_previous %}
    <a href="?page={{ recent_articles.previous_page_number }}">{% trans "–ù–∞–∑–∞–¥" %}</a>
    {% endif %}
    <span>{% trans "–°—Ç—Ä–∞–Ω–∏—Ü–∞" %} {{ recent_articles.number }} {% trans "–∏–∑" %} {{ recent_articles.paginator.num_pages }}</span>
    {% if recent_articles.has_next %}
    <a href="?page={{ recent_articles.next_page_number }}">{% trans "–í–ø–µ—Ä–µ–¥" %}</a>
    {% endif %}
</div>

<hr>

<!-- üîñ –¢–µ–≥–∏ -->
<h3>{% trans "–¢–µ–≥–∏" %}</h3>
<ul>
    {% for tag in tags %}
    <li>
        <a href="{% url 'articles_by_tag' slug=tag.slug %}">#{{ tag.name }}</a>
    </li>
    {% empty %}
    <li>{% trans "–ù–µ—Ç —Ç–µ–≥–æ–≤" %}</li>
    {% endfor %}
</ul>

<hr>

<!-- üë• –ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞—Ç—å—è –æ—Ç –∫–∞–∂–¥–æ–≥–æ –∞–≤—Ç–æ—Ä–∞ -->
<h3>{% trans "–ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞—Ç—å—è –∞–≤—Ç–æ—Ä–æ–≤" %}</h3>
<ul>
    {% for article in last_by_authors %}
    <li>
        <a href="{% url 'article_detail' slug=article.slug %}">
            {{ article.title }} ‚Äî {{ article.author }}
        </a>
    </li>
    {% endfor %}
</ul>
{% endblock %}

{% load i18n %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">

<head>
    <meta charset="UTF-8">
    <title>{% trans "–ì–ª–∞–≤–Ω–∞—è" %}</title>
</head>

<body>
    <!-- üåê –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞ -->
    <form action="{% url 'set_language' %}" method="post">
        {% csrf_token %}
        {% get_current_language as LANGUAGE_CODE %}
        {% get_available_languages as LANGUAGES %}
        <select name="language">
            {% for lang_code, lang_name in LANGUAGES %}
            <option value="{{ lang_code }}" "{% if lang_code == LANGUAGE_CODE %}" selected"{% endif %}">
                {{ lang_name }}
            </option>
            {% endfor %}
        </select>
        <button type="submit">{% trans "–í—ã–±—Ä–∞—Ç—å —è–∑—ã–∫" %}</button>
    </form>

    <hr>

    <!-- üìÑ –í—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–µ–≥ -->
    {% if current_tag %}
    <p><b>{% trans "–í—ã–±—Ä–∞–Ω —Ç–µ–≥" %}:</b> {{ current_tag.name }}</p>
    {% endif %}

    <!-- üì∞ –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ -->
    <h2>{% trans "–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏" %}</h2>
    <ul>
        {% for article in recent_articles %}
        <li>
            {% if article.cover_image %}
            <img src="{{ article.cover_image.url }}" alt="{{ article.title }}" width="150">
            {% endif %}
            <a href="{% url 'article_detail' slug=article.slug %}">{{ article.title }}</a><br>
            <small>{% trans "–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ" %}: {{ article.published_at|default:article.created_at }}</small>
        </li>
        {% empty %}
        <li>{% trans "–ù–µ—Ç —Å—Ç–∞—Ç–µ–π" %}</li>
        {% endfor %}
    </ul>

    <!-- üìÜ –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
    <div>
        {% if recent_articles.has_previous %}
        <a href="?page={{ recent_articles.previous_page_number }}">{% trans "–ù–∞–∑–∞–¥" %}</a>
        {% endif %}

        <span>{% trans "–°—Ç—Ä–∞–Ω–∏—Ü–∞" %} {{ recent_articles.number }} {% trans "–∏–∑" %} {{ recent_articles.paginator.num_pages }}</span>

        {% if recent_articles.has_next %}
        <a href="?page={{ recent_articles.next_page_number }}">{% trans "–í–ø–µ—Ä–µ–¥" %}</a>
        {% endif %}
    </div>

    <hr>

    <!-- üìÇ –†—É–±—Ä–∏–∫–∏ -->
<h2>{% trans "–†—É–±—Ä–∏–∫–∏" %}</h2>
<ul>
    {% for category in categories %}
    <li>
        <a href="{% url 'articles_by_category' slug=category.slug %}">
            {{ category.name }}
        </a>
    </li>
    {% empty %}
    <li>{% trans "–ù–µ—Ç —Ä—É–±—Ä–∏–∫" %}</li>
    {% endfor %}
</ul>

    <hr>

    <!-- üîñ –¢–µ–≥–∏ -->
<h2>{% trans "–¢–µ–≥–∏" %}</h2>
<ul>
    {% for tag in tags %}
    <li>
        <a href="{% url 'articles_by_tag' slug=tag.slug %}">
            {{ tag.name }}
        </a>
    </li>
    {% empty %}
    <li>{% trans "–ù–µ—Ç —Ç–µ–≥–æ–≤" %}</li>
    {% endfor %}
</ul>
</body>

</html>